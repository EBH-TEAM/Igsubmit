<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>EBH TEAM - 2FA SUBMISSION SYSTEM</title>
  <style>
    /* ‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶° 3D ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ - ‡¶≤‡¶æ‡¶á‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
    :root {
      --primary: #ff66a3;
      --primary-dark: #ff3385;
      --secondary: #ffb366;
      --secondary-dark: #ff9933;
      --accent: #8a7aff;
      --accent-dark: #6b5fff;
      --danger: #ff6b8b;
      --danger-dark: #ff4d6d;
      --dark-bg: #0f1422;
      --panel: #1e2a3a;
      --border: #3a4a66;
      --text: #ffffff;
      --muted: #c0d0e5;
      --error: #ff6b8b;
      --success: #4cd964;
      --warning: #ffcc66;
      --instagram-gradient: linear-gradient(45deg, #ffb347 0%, #ff9966 25%, #ff7b8c 50%, #e65c99 75%, #cc4dcc 100%);
      --shadow-3d: 0 10px 0 rgba(0, 0, 0, 0.4), 0 8px 20px rgba(255, 102, 163, 0.3);
      --shadow-3d-hover: 0 15px 0 rgba(0, 0, 0, 0.4), 0 12px 30px rgba(255, 102, 163, 0.5);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: var(--dark-bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
      min-height: 100vh;
      padding: 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      background-image: 
        radial-gradient(circle at 20% 20%, rgba(255, 102, 163, 0.15), transparent 40%),
        radial-gradient(circle at 90% 80%, rgba(138, 122, 255, 0.1), transparent 40%);
    }

    .container {
      width: 100%;
      max-width: 480px;
      margin: 0 auto;
    }

    /* 3D ‡¶π‡ßá‡¶°‡¶æ‡¶∞ */
    .header {
      background: rgba(30, 42, 58, 0.97);
      backdrop-filter: blur(20px);
      padding: 16px 12px;
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: var(--shadow-3d);
      min-height: 80px;
      margin-bottom: 16px;
      transform: translateY(-3px);
      border-radius: 0 0 30px 30px;
      border-bottom: 4px solid var(--primary);
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
    }

    .logo-icon {
      font-size: 36px;
      background: var(--instagram-gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      filter: drop-shadow(0 0 10px rgba(255, 102, 163, 0.5));
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-5px); }
    }

    .logo-text {
      font-size: 28px;
      font-weight: 800;
      background: var(--instagram-gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: 1px;
      position: relative;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .logo-badge {
      position: absolute;
      top: -12px;
      right: -35px;
      font-size: 11px;
      background: var(--primary);
      color: white;
      padding: 4px 10px;
      border-radius: 20px;
      font-weight: 700;
      transform: rotate(10deg);
      box-shadow: 0 4px 0 #b3476b, 0 8px 15px rgba(255, 102, 163, 0.3);
      animation: badgeGlow 2s ease-in-out infinite;
      border: 2px solid rgba(255,255,255,0.2);
      border-bottom: 4px solid #b3476b;
    }

    /* ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶¨‡¶æ‡¶∞ */
    .system-status-bar {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: var(--shadow-3d);
      border-left: 4px solid var(--primary);
      flex-wrap: wrap;
      gap: 10px;
      transform: translateY(-2px);
      border-bottom: 4px solid #15202b;
    }

    .system-status-info {
      display: flex;
      align-items: center;
      gap: 10px;
      flex: 1;
      min-width: 160px;
    }

    .system-status-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--success);
      box-shadow: 0 0 12px var(--success), 0 2px 0 #1a7a3a;
      animation: pulse 2s infinite;
      border-bottom: 2px solid #1a7a3a;
    }

    .system-status-dot.off {
      background: var(--danger);
      box-shadow: 0 0 12px var(--danger), 0 2px 0 #b33f5a;
      border-bottom: 2px solid #b33f5a;
    }

    /* ‡¶ü‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ - ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶° */
    .message-ticker-container {
      flex: 2;
      min-width: 200px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 40px;
      padding: 6px 14px;
      border: 1px solid var(--border);
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.5), 0 4px 0 #0f1422;
      transform: translateY(-2px);
      border-bottom: 3px solid #0f1422;
      height: 38px;
      display: flex;
      align-items: center;
    }

    .message-ticker {
      white-space: nowrap;
      overflow: hidden;
      position: relative;
      width: 100%;
    }

    .ticker-content {
      display: inline-block;
      animation: ticker-scroll 12s linear infinite;
      font-size: 13px;
      font-weight: 600;
      background: var(--instagram-gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 0 8px rgba(255, 102, 163, 0.4);
      letter-spacing: 0.5px;
      white-space: nowrap;
    }

    .ticker-content.warning {
      background: linear-gradient(45deg, #ff6b8b, #ffb366);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    @keyframes ticker-scroll {
      0% { transform: translateX(0%); }
      100% { transform: translateX(-50%); }
    }

    .message-ticker:hover .ticker-content {
      animation-play-state: paused;
    }

    /* ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶Ö‡¶´ ‡¶®‡ßã‡¶ü‡¶ø‡¶∏ */
    .system-off-notice {
      font-size: 18px;
      font-weight: 900;
      text-align: center;
      padding: 16px 20px;
      border-radius: 40px;
      border: 3px solid var(--danger);
      background: rgba(255, 107, 139, 0.15);
      color: var(--danger);
      max-width: 100%;
      width: 100%;
      margin: 12px auto;
      backdrop-filter: blur(8px);
      box-shadow: var(--shadow-3d), 0 0 30px rgba(255, 107, 139, 0.3);
      line-height: 1.5;
      transform: translateY(-2px);
      border-bottom: 6px solid #b33f5a;
    }

    /* ‡¶§‡¶ø‡¶®‡¶ü‡¶ø ‡¶Ö‡¶™‡¶∂‡¶® ‡¶ï‡¶æ‡¶∞‡ßç‡¶° */
    .options-container {
      display: flex;
      justify-content: space-between;
      gap: 6px;
      margin: 12px 0 16px;
    }

    .option-card {
      flex: 1;
      background: var(--panel);
      border: 2px solid var(--border);
      border-radius: 16px;
      padding: 10px 2px;
      text-align: center;
      cursor: pointer;
      transition: all 0.1s ease;
      box-shadow: var(--shadow-3d);
      transform: translateY(-2px);
      border-bottom: 4px solid #15202b;
    }

    .option-card.selected {
      border-color: var(--primary);
      box-shadow: 0 0 15px rgba(255, 102, 163, 0.4);
      transform: translateY(-3px);
      border-bottom-color: var(--primary);
    }

    .option-card.off {
      opacity: 0.6;
      filter: grayscale(40%);
    }

    .option-icon {
      font-size: 22px;
      margin-bottom: 2px;
    }

    .option-title {
      font-size: 12px;
      font-weight: 700;
    }

    /* ‡¶§‡¶ø‡¶®‡¶ü‡¶ø ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏ */
    .input-container {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 8px;
      margin-top: 8px;
    }

    .input-box {
      background: var(--panel);
      border-radius: 18px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      min-height: 180px;
      box-shadow: var(--shadow-3d);
      border: 1px solid var(--border);
      backdrop-filter: blur(8px);
      transform: translateY(-2px);
      border-bottom: 5px solid #15202b;
    }

    .input-box:active {
      transform: translateY(2px);
      border-bottom-width: 2px;
    }

    .box-header {
      background: rgba(15, 20, 34, 0.8);
      padding: 10px 6px;
      font-size: 14px;
      font-weight: 800;
      text-align: center;
      border-bottom: 2px solid transparent;
      text-transform: uppercase;
    }

    .input-box:nth-child(1) .box-header {
      color: var(--accent);
      border-bottom-color: var(--accent);
    }
    
    .input-box:nth-child(2) .box-header {
      color: var(--secondary);
      border-bottom-color: var(--secondary);
    }
    
    .input-box:nth-child(3) .box-header {
      color: var(--primary);
      border-bottom-color: var(--primary);
    }

    .box-textarea {
      flex: 1;
      width: 100%;
      background: rgba(15, 20, 34, 0.5);
      color: var(--text);
      border: none;
      padding: 10px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      line-height: 1.4;
      resize: none;
      outline: none;
      white-space: pre;
      overflow-y: auto;
    }

    .error-border {
      border: 2px solid var(--error) !important;
      box-shadow: 0 0 12px rgba(255, 107, 139, 0.5);
    }

    /* ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶á‡¶®‡¶´‡ßã */
    .date-info {
      text-align: center;
      font-size: 15px;
      color: var(--muted);
      background: var(--panel);
      padding: 12px 14px;
      border-radius: 16px;
      margin: 12px 0;
      border: 1px solid var(--border);
      box-shadow: var(--shadow-3d);
      font-weight: 500;
      transform: translateY(-2px);
      border-bottom: 4px solid #15202b;
    }

    .current-date {
      color: var(--secondary);
      font-weight: 900;
      font-size: 20px;
      background: rgba(255, 179, 102, 0.1);
      padding: 2px 8px;
      border-radius: 30px;
      display: inline-block;
    }

    /* ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® */
    .submit-section {
      margin: 16px 0 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .submit-notice {
      font-size: 16px;
      font-weight: 900;
      text-align: center;
      color: var(--primary);
      padding: 10px 20px;
      border-radius: 40px;
      border: 2px solid var(--primary);
      backdrop-filter: blur(8px);
      max-width: 100%;
      width: 100%;
      background: rgba(255, 102, 163, 0.1);
      box-shadow: var(--shadow-3d);
      transform: translateY(-2px);
      border-bottom: 5px solid #b3476b;
    }

    .submit-notice.restricted {
      color: var(--danger);
      border-color: var(--danger);
      background: rgba(255, 107, 139, 0.1);
      border-bottom-color: #b33f5a;
    }

    .submit-btn {
      width: 100%;
      max-width: 280px;
      background: var(--instagram-gradient);
      border: none;
      color: white;
      padding: 16px 28px;
      border-radius: 50px;
      font-weight: 800;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.1s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      text-transform: uppercase;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 0 #b3476b, 0 12px 20px rgba(255, 102, 163, 0.4);
      transform: translateY(-4px);
      border: 2px solid rgba(255,255,255,0.2);
    }

    .submit-btn:active {
      transform: translateY(2px);
      box-shadow: 0 4px 0 #b3476b, 0 8px 15px rgba(255, 102, 163, 0.4);
    }

    .submit-btn.system-off-btn {
      opacity: 0.6;
      cursor: not-allowed;
      filter: grayscale(60%);
      background: linear-gradient(45deg, #888, #aaa);
      box-shadow: 0 5px 0 #555, 0 8px 15px rgba(0,0,0,0.3);
      pointer-events: none;
      transform: translateY(-2px);
    }

    /* ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶∞‡¶ø‡¶Æ‡ßá‡¶á‡¶®‡¶ø‡¶Ç */
    .time-remaining {
      font-size: 14px;
      font-weight: 600;
      color: var(--muted);
      padding: 6px 18px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 40px;
      border: 1px solid var(--border);
      margin-top: 4px;
      box-shadow: 0 4px 0 #0f1422;
      transform: translateY(-2px);
    }

    .time-highlight {
      color: var(--secondary);
      font-weight: 700;
    }

    /* ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® */
    .output-section {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 24px 16px;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      overflow: hidden;
      margin: 12px 0;
      box-shadow: var(--shadow-3d);
      backdrop-filter: blur(8px);
      transform: translateY(-2px);
      border-bottom: 5px solid #15202b;
    }

    .output-text {
      font-size: 28px;
      font-weight: 800;
      background: var(--instagram-gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: textFloat 4s ease-in-out infinite;
      padding: 12px 20px;
      border-radius: 14px;
      position: relative;
      z-index: 2;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    /* ‡¶™‡¶™‡¶Ü‡¶™ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(12px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .popup-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .popup-content {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 24px;
      width: 100%;
      max-width: 340px;
      max-height: 80vh;
      overflow-y: auto;
      transform: scale(0.9) translateY(0);
      transition: transform 0.3s ease;
      box-shadow: var(--shadow-3d);
      border-bottom: 6px solid #15202b;
    }

    .popup-overlay.active .popup-content {
      transform: scale(1) translateY(-3px);
    }

    .popup-header {
      font-size: 22px;
      font-weight: 800;
      text-align: center;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 2px solid var(--border);
    }

    .popup-header.warning { color: var(--warning); border-bottom-color: var(--warning); }
    .popup-header.error { color: var(--error); border-bottom-color: var(--error); }
    .popup-header.success { color: var(--success); border-bottom-color: var(--success); }

    .popup-message {
      font-size: 16px;
      line-height: 1.6;
      color: var(--text);
      margin-bottom: 20px;
      text-align: center;
      white-space: pre-line;
    }

    .popup-buttons {
      display: flex;
      gap: 12px;
      margin-top: 20px;
    }

    .popup-btn {
      flex: 1;
      padding: 14px;
      border: none;
      border-radius: 40px;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.1s ease;
      transform: translateY(-2px);
      border-bottom: 4px solid #b3476b;
      box-shadow: 0 5px 0 #b3476b;
    }

    .popup-btn.confirm {
      background: var(--instagram-gradient);
      color: white;
      box-shadow: 0 6px 0 #b3476b, 0 6px 15px rgba(255, 102, 163, 0.4);
    }

    /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶∞‡ßá‡¶∏‡ßç‡¶™‡¶®‡ßç‡¶∏‡¶ø‡¶≠ */
    @media (max-width: 480px) {
      .header { padding: 12px; min-height: 70px; }
      .logo-icon { font-size: 32px; }
      .logo-text { font-size: 24px; }
      .logo-badge { right: -30px; font-size: 10px; padding: 3px 8px; top: -10px; }
      
      .options-container { gap: 4px; }
      .option-card { padding: 8px 2px; }
      .option-icon { font-size: 20px; }
      .option-title { font-size: 11px; }
      
      .input-container { gap: 6px; }
      .input-box { min-height: 160px; }
      .box-header { font-size: 12px; padding: 8px 4px; }
      .box-textarea { font-size: 11px; padding: 8px; }
      
      .submit-btn { padding: 14px 20px; font-size: 16px; }
      .output-text { font-size: 24px; padding: 10px 16px; }
      
      .popup-content { padding: 20px; }
      .popup-header { font-size: 20px; }
      .popup-message { font-size: 14px; }
    }

    ::-webkit-scrollbar { width: 3px; }
    ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 3px; }
  </style>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>

<body>
  <div class="container">
    <!-- ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
    <div class="header">
      <div class="logo-container">
        <div class="logo-icon">üì±</div>
        <div class="logo-text">
          EBH_TEAM
          <div class="logo-badge">EBH</div>
        </div>
      </div>
    </div>

    <!-- ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶¨‡¶æ‡¶∞ (‡¶ü‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá) -->
    <div class="system-status-bar">
      <div class="system-status-info">
        <div class="system-status-dot" id="systemStatusDot"></div>
        <div class="system-status-text" id="systemStatusText">Loading...</div>
      </div>
      <div class="message-ticker-container">
        <div class="message-ticker">
          <div class="ticker-content" id="tickerContent">üì¢ Loading ticker message...</div>
        </div>
      </div>
    </div>

    <!-- ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶Ö‡¶´ ‡¶®‡ßã‡¶ü‡¶ø‡¶∏ (‡¶Ø‡¶ñ‡¶® ‡¶™‡ßÅ‡¶∞‡ßã ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶Ö‡¶´) -->
    <div class="system-off-notice" id="systemOffNotice" style="display: none;">
      <span id="systemOffMessage"></span>
    </div>

    <!-- ‡¶§‡¶ø‡¶®‡¶ü‡¶ø ‡¶Ö‡¶™‡¶∂‡¶® ‡¶ï‡¶æ‡¶∞‡ßç‡¶° -->
    <div class="options-container">
      <div class="option-card selected" id="optionInstagram">
        <div class="option-icon">üì∑</div>
        <div class="option-title">INSTAGRAM 2FA</div>
      </div>
      <div class="option-card" id="optionFacebook2FA">
        <div class="option-icon">üìò</div>
        <div class="option-title">FACEBOOK 2FA</div>
      </div>
      <div class="option-card" id="optionFacebookCookie">
        <div class="option-icon">üç™</div>
        <div class="option-title">FACEBOOK COOKIE</div>
      </div>
    </div>

    <!-- ‡¶§‡¶ø‡¶®‡¶ü‡¶ø ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏ -->
    <div class="input-container">
      <div class="input-box">
        <div class="box-header" id="header1">USERNAME</div>
        <textarea class="box-textarea" id="input1" placeholder="One per line"></textarea>
      </div>
      <div class="input-box">
        <div class="box-header" id="header2">PASSWORD</div>
        <textarea class="box-textarea" id="input2" placeholder="One per line"></textarea>
      </div>
      <div class="input-box">
        <div class="box-header" id="header3">2FA CODE</div>
        <textarea class="box-textarea" id="input3" placeholder="One per line"></textarea>
      </div>
    </div>

    <!-- ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶á‡¶®‡¶´‡ßã -->
    <div class="date-info">
      Today: <span class="current-date" id="currentDate"></span> 
      - Must include in password
    </div>

    <!-- ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
    <div class="submit-section">
      <div class="submit-notice" id="timeNotice">Working Hours: 24/7</div>
      <div id="timeRemaining" class="time-remaining"></div>
      <button class="submit-btn" id="submitBtn">SUBMIT</button>
    </div>

    <!-- ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
    <div class="output-section">
      <div class="output-text">EBH_TEAM</div>
    </div>
  </div>

  <!-- ‡¶™‡¶™‡¶Ü‡¶™‡¶ó‡ßÅ‡¶≤‡ßã -->
  <div class="popup-overlay" id="restrictedPopup">
    <div class="popup-content">
      <div class="popup-header warning">‚è∞ CLOSED</div>
      <div class="popup-message">üî¥ 9PM - 12AM</div>
      <div class="popup-buttons">
        <button class="popup-btn confirm" id="closeRestrictedPopup">OK</button>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="systemOffPopup">
    <div class="popup-content">
      <div class="popup-header warning">‚ö†Ô∏è SYSTEM OFFLINE</div>
      <div class="popup-message" id="systemOffPopupMessage"></div>
      <div class="popup-buttons">
        <button class="popup-btn confirm" id="closeSystemOffPopup">OK</button>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="optionOffPopup">
    <div class="popup-content">
      <div class="popup-header warning" id="optionOffTitle">‚ö†Ô∏è UNAVAILABLE</div>
      <div class="popup-message" id="optionOffMessage"></div>
      <div class="popup-buttons">
        <button class="popup-btn confirm" id="closeOptionOffPopup">OK</button>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="popupOverlay">
    <div class="popup-content">
      <div class="popup-header" id="popupTitle">MESSAGE</div>
      <div class="popup-message" id="popupMessage"></div>
      <div class="popup-buttons">
        <button class="popup-btn confirm" id="popupConfirm">OK</button>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="duplicatePopup">
    <div class="popup-content">
      <div class="popup-header warning">‚ö†Ô∏è DUPLICATE</div>
      <div class="popup-message" id="duplicatePopupMessage"></div>
      <div class="popup-buttons">
        <button class="popup-btn confirm" id="duplicateConfirm">NEW ONLY</button>
        <button class="popup-btn confirm" id="duplicateCancel">CANCEL</button>
      </div>
    </div>
  </div>

  <script>
    (function() {
      // Firebase Config
      const firebaseConfig = {
        apiKey: "AIzaSyCI4HPJ_mqhqmDjKHQr3Cd302rO2Tud1Go",
        authDomain: "mtwork-fc469.firebaseapp.com",
        databaseURL: "https://mtwork-fc469-default-rtdb.firebaseio.com",
        projectId: "mtwork-fc469",
        storageBucket: "mtwork-fc469.firebasestorage.app",
        messagingSenderId: "351935919939",
        appId: "1:351935919939:web:7ad33f6c3e6e4de26f21f6"
      };

      // Initialize Firebase
      let db;
      try {
        firebase.initializeApp(firebaseConfig);
        db = firebase.database();
        console.log("‚úÖ Firebase Connected");
      } catch (e) {
        console.error("‚ùå Firebase Error:", e);
      }

      // DOM Elements
      const header1 = document.getElementById('header1');
      const header2 = document.getElementById('header2');
      const header3 = document.getElementById('header3');
      const input1 = document.getElementById('input1');
      const input2 = document.getElementById('input2');
      const input3 = document.getElementById('input3');
      const submitBtn = document.getElementById('submitBtn');
      const currentDateElement = document.getElementById('currentDate');
      
      // Option Elements
      const optionInstagram = document.getElementById('optionInstagram');
      const optionFacebook2FA = document.getElementById('optionFacebook2FA');
      const optionFacebookCookie = document.getElementById('optionFacebookCookie');
      
      // Status Elements
      const systemStatusDot = document.getElementById('systemStatusDot');
      const systemStatusText = document.getElementById('systemStatusText');
      const tickerContent = document.getElementById('tickerContent');
      const systemOffNotice = document.getElementById('systemOffNotice');
      const systemOffMessage = document.getElementById('systemOffMessage');
      
      // Popup Elements
      const restrictedPopup = document.getElementById('restrictedPopup');
      const systemOffPopup = document.getElementById('systemOffPopup');
      const systemOffPopupMessage = document.getElementById('systemOffPopupMessage');
      const optionOffPopup = document.getElementById('optionOffPopup');
      const optionOffMessage = document.getElementById('optionOffMessage');
      const optionOffTitle = document.getElementById('optionOffTitle');
      const popupOverlay = document.getElementById('popupOverlay');
      const popupTitle = document.getElementById('popupTitle');
      const popupMessage = document.getElementById('popupMessage');
      const duplicatePopup = document.getElementById('duplicatePopup');
      const duplicatePopupMessage = document.getElementById('duplicatePopupMessage');
      
      // Close Buttons
      const closeRestricted = document.getElementById('closeRestrictedPopup');
      const closeSystemOff = document.getElementById('closeSystemOffPopup');
      const closeOptionOff = document.getElementById('closeOptionOffPopup');
      const popupConfirm = document.getElementById('popupConfirm');
      const duplicateConfirm = document.getElementById('duplicateConfirm');
      const duplicateCancel = document.getElementById('duplicateCancel');

      // Global Variables
      let selectedOption = 'instagram';
      let systemStatus = true;
      let optionStatus = { instagram: true, facebook2fa: true, facebookcookie: true };
      let optionMessages = { instagram: "", facebook2fa: "", facebookcookie: "" };
      let tickerMessage = "";
      let offReason = "";
      let pendingSubmission = { ids: [], passwords: [], codes: [], uniqueIndices: [] };

      // Today's Date
      const TODAY_DATE = new Date().getDate().toString();
      if (currentDateElement) currentDateElement.textContent = TODAY_DATE;

      // Load All Data from Firebase
      function loadAllData() {
        loadSystemStatus();
        loadOptionStatus();
      }

      // Load System Status (including ticker)
      function loadSystemStatus() {
        if (!db) return;
        
        db.ref("system_control").on("value", (snapshot) => {
          if (snapshot.exists()) {
            const data = snapshot.val();
            systemStatus = data.status !== undefined ? data.status : true;
            tickerMessage = data.ticker_message || "";
            offReason = data.off_reason || "";
          } else {
            systemStatus = true;
            tickerMessage = "";
            offReason = "";
          }
          
          updateSystemUI();
        }, (error) => {
          console.error("System Status Load Error:", error);
          systemStatus = true;
          tickerMessage = "";
          offReason = "";
          updateSystemUI();
        });
      }

      // Load Option Status (ON/OFF + Messages)
      function loadOptionStatus() {
        if (!db) return;
        
        db.ref("option_control").on("value", (snapshot) => {
          if (snapshot.exists()) {
            const data = snapshot.val();
            
            optionStatus.instagram = data.instagram?.status !== false;
            optionStatus.facebook2fa = data.facebook2fa?.status !== false;
            optionStatus.facebookcookie = data.facebookcookie?.status !== false;
            
            optionMessages.instagram = data.instagram?.message || "";
            optionMessages.facebook2fa = data.facebook2fa?.message || "";
            optionMessages.facebookcookie = data.facebookcookie?.message || "";
          } else {
            optionStatus = { instagram: true, facebook2fa: true, facebookcookie: true };
            optionMessages = { instagram: "", facebook2fa: "", facebookcookie: "" };
          }
          
          updateOptionUI();
        }, (error) => {
          console.error("Option Status Load Error:", error);
          optionStatus = { instagram: true, facebook2fa: true, facebookcookie: true };
          optionMessages = { instagram: "", facebook2fa: "", facebookcookie: "" };
          updateOptionUI();
        });
      }

      // Update System UI (status dot, ticker, off notice)
      function updateSystemUI() {
        // Update status dot and text
        if (systemStatus) {
          systemStatusDot.className = 'system-status-dot';
          systemStatusText.textContent = '‚úÖ ONLINE';
          systemOffNotice.style.display = 'none';
        } else {
          systemStatusDot.className = 'system-status-dot off';
          systemStatusText.textContent = 'üî¥ OFFLINE';
          systemOffMessage.textContent = offReason || 'System is currently offline.';
          systemOffNotice.style.display = 'block';
        }
        
        // Update ticker (always show ticker message)
        updateTicker();
        
        // Update submit button state
        updateSubmitButtonState();
      }

      // Update Ticker Content
      function updateTicker() {
        if (tickerMessage && tickerMessage.trim() !== '') {
          // Double the message for smooth scrolling
          tickerContent.innerHTML = `üì¢ ${tickerMessage} üîπ ${tickerMessage} üîπ ${tickerMessage}`;
        } else {
          tickerContent.innerHTML = 'üì¢ EBH TEAM - 2FA SUBMISSION SYSTEM üîπ EBH TEAM - 2FA SUBMISSION SYSTEM';
        }
        
        // Adjust animation speed based on message length
        const msgLength = tickerMessage.length;
        if (msgLength > 50) {
          tickerContent.style.animationDuration = '15s';
        } else if (msgLength < 20) {
          tickerContent.style.animationDuration = '10s';
        } else {
          tickerContent.style.animationDuration = '12s';
        }
      }

      // Update Option UI (add off class if needed)
      function updateOptionUI() {
        // Update option cards based on status
        if (optionStatus.instagram) {
          optionInstagram.classList.remove('off');
        } else {
          optionInstagram.classList.add('off');
        }
        
        if (optionStatus.facebook2fa) {
          optionFacebook2FA.classList.remove('off');
        } else {
          optionFacebook2FA.classList.add('off');
        }
        
        if (optionStatus.facebookcookie) {
          optionFacebookCookie.classList.remove('off');
        } else {
          optionFacebookCookie.classList.add('off');
        }
        
        // If current selected option is off, select first available
        if (!optionStatus[selectedOption]) {
          if (optionStatus.instagram) {
            selectOption('instagram');
          } else if (optionStatus.facebook2fa) {
            selectOption('facebook2fa');
          } else if (optionStatus.facebookcookie) {
            selectOption('facebookcookie');
          }
        }
      }

      // Select Option Function
      function selectOption(option) {
        selectedOption = option;
        
        // Remove selected class from all
        optionInstagram.classList.remove('selected');
        optionFacebook2FA.classList.remove('selected');
        optionFacebookCookie.classList.remove('selected');
        
        // Add selected class to current
        if (option === 'instagram') {
          optionInstagram.classList.add('selected');
          header1.textContent = 'USERNAME';
          header2.textContent = 'PASSWORD';
          header3.textContent = '2FA CODE';
          input1.placeholder = 'One username per line';
          input2.placeholder = 'One password per line - Must include ' + TODAY_DATE;
          input3.placeholder = 'One 2FA code per line';
        } 
        else if (option === 'facebook2fa') {
          optionFacebook2FA.classList.add('selected');
          header1.textContent = 'UID';
          header2.textContent = 'PASSWORD';
          header3.textContent = '2FA CODE';
          input1.placeholder = 'One UID per line';
          input2.placeholder = 'One password per line - Must include ' + TODAY_DATE;
          input3.placeholder = 'One 2FA code per line';
        }
        else if (option === 'facebookcookie') {
          optionFacebookCookie.classList.add('selected');
          header1.textContent = 'UID';
          header2.textContent = 'PASSWORD';
          header3.textContent = 'COOKIE';
          input1.placeholder = 'One UID per line';
          input2.placeholder = 'One password per line - Must include ' + TODAY_DATE;
          input3.placeholder = 'One cookie per line';
        }
      }

      // Handle Option Click - Check if option is OFF and show custom message
      function handleOptionClick(option) {
        if (!optionStatus[option]) {
          let optionName = '';
          if (option === 'instagram') {
            optionName = 'INSTAGRAM 2FA';
          } else if (option === 'facebook2fa') {
            optionName = 'FACEBOOK 2FA';
          } else {
            optionName = 'FACEBOOK COOKIE';
          }
          
          // Show custom message from admin panel
          const customMessage = optionMessages[option] || 'This option is currently unavailable.';
          optionOffTitle.textContent = `‚ö†Ô∏è ${optionName} UNAVAILABLE`;
          optionOffMessage.textContent = customMessage;
          optionOffPopup.classList.add('active');
          return;
        }
        
        selectOption(option);
      }

      // Update Submit Button State based on system status and time
      function updateSubmitButtonState() {
        if (!systemStatus || isRestrictedTime()) {
          submitBtn.classList.add('system-off-btn');
          submitBtn.disabled = true;
        } else {
          submitBtn.classList.remove('system-off-btn');
          submitBtn.disabled = false;
        }
      }

      // Check Restricted Time (9PM - 12AM)
      function isRestrictedTime() {
        const hours = new Date().getHours();
        return hours >= 21 && hours < 24;
      }

      // Get Time Remaining
      function getTimeRemaining() {
        const now = new Date();
        const hours = now.getHours();
        
        if (hours < 21) {
          const target = new Date();
          target.setHours(21, 0, 0, 0);
          const diff = target - now;
          const h = Math.floor(diff / 3600000);
          const m = Math.floor((diff % 3600000) / 60000);
          const s = Math.floor((diff % 60000) / 1000);
          return { type: 'before', hours: h, minutes: m, seconds: s };
        } else {
          const target = new Date();
          target.setDate(target.getDate() + 1);
          target.setHours(0, 0, 0, 0);
          const diff = target - now;
          const h = Math.floor(diff / 3600000);
          const m = Math.floor((diff % 3600000) / 60000);
          const s = Math.floor((diff % 60000) / 1000);
          return { type: 'restricted', hours: h, minutes: m, seconds: s };
        }
      }

      // Update Time Notice
      function updateTimeNotice() {
        const restricted = isRestrictedTime();
        const remaining = getTimeRemaining();
        const timeNotice = document.getElementById('timeNotice');
        const timeRemaining = document.getElementById('timeRemaining');
        
        if (!timeNotice || !timeRemaining) return;
        
        if (restricted) {
          timeNotice.textContent = 'üî¥ SUBMISSION CLOSED (9PM - 12AM)';
          timeNotice.classList.add('restricted');
          timeRemaining.innerHTML = `‚è∞ Opens in: <span class="time-highlight">${remaining.hours}h ${remaining.minutes}m ${remaining.seconds}s</span>`;
        } else {
          timeNotice.textContent = 'üü¢ SUBMISSION OPEN 24/7';
          timeNotice.classList.remove('restricted');
          timeRemaining.innerHTML = `‚è≥ Closes in: <span class="time-highlight">${remaining.hours}h ${remaining.minutes}m ${remaining.seconds}s</span>`;
        }
        
        updateSubmitButtonState();
      }

      // Validate Inputs - ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø‡¶§‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶ö‡ßá‡¶ï
      function validateInputs(ids, passwords, codes) {
        const errors = [];
        
        // ‡¶∏‡¶¨ ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ
        if (ids.length === 0) errors.push("‚ùå Please enter IDs/Usernames");
        if (passwords.length === 0) errors.push("‚ùå Please enter Passwords");
        if (codes.length === 0) errors.push("‚ùå Please enter 2FA Codes/Cookies");
        
        // ‡¶∏‡¶¨ ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶∏‡¶Æ‡¶æ‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶ï ‡¶≤‡¶æ‡¶á‡¶® ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ
        if (ids.length !== passwords.length || ids.length !== codes.length) {
          errors.push("‚ùå All boxes must have the same number of lines");
        }
        
        // ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡ßá ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ
        for (let i = 0; i < passwords.length; i++) {
          if (!passwords[i].includes(TODAY_DATE)) {
            errors.push(`‚ùå Line ${i+1}: Password must include today's date (${TODAY_DATE})`);
          }
        }
        
        return { valid: errors.length === 0, errors };
      }

      // Check Duplicates
      async function checkDuplicates(ids) {
        const ref = db.ref('used_ids');
        const snapshot = await ref.once('value');
        const used = snapshot.val() || {};
        
        const usedMap = new Map();
        Object.values(used).forEach(item => {
          if (item?.id) usedMap.set(item.id.toLowerCase().trim(), true);
        });
        
        const duplicates = [];
        const unique = [];
        const indices = [];
        
        ids.forEach((id, index) => {
          if (usedMap.has(id.toLowerCase().trim())) {
            duplicates.push({ line: index + 1, id });
          } else {
            unique.push(id);
            indices.push(index);
          }
        });
        
        return { duplicates, unique, indices, allDuplicates: duplicates.length === ids.length };
      }

      // Save to Firebase
      async function saveToFirebase(ids, passwords, codes) {
        const timestamp = Date.now();
        const date = new Date().toISOString();
        const updates = {};
        
        for (let i = 0; i < ids.length; i++) {
          const id = `sub_${timestamp}_${i}`;
          const data = {
            id: ids[i],
            password: passwords[i],
            code: codes[i],
            option: selectedOption,
            submitted_at: date,
            date_used: TODAY_DATE
          };
          
          updates[`submissions/${selectedOption}/${id}`] = data;
          updates[`used_ids/${id}`] = { id: ids[i], option: selectedOption };
        }
        
        await db.ref().update(updates);
        
        return ids.length;
      }

      // Show Custom Popup (‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá)
      function showCustomPopup(type, title, message) {
        popupTitle.textContent = title;
        popupTitle.className = 'popup-header ' + type;
        popupMessage.textContent = message;
        popupOverlay.classList.add('active');
      }

      // Handle Submit
      async function handleSubmit() {
        try {
          // Check system status
          if (!systemStatus) {
            systemOffPopupMessage.textContent = offReason || 'System is currently offline.';
            systemOffPopup.classList.add('active');
            return;
          }
          
          // Check time
          if (isRestrictedTime()) {
            restrictedPopup.classList.add('active');
            return;
          }
          
          // Check if selected option is available
          if (!optionStatus[selectedOption]) {
            let name = selectedOption === 'instagram' ? 'INSTAGRAM 2FA' : 
                      selectedOption === 'facebook2fa' ? 'FACEBOOK 2FA' : 'FACEBOOK COOKIE';
            optionOffTitle.textContent = `‚ö†Ô∏è ${name} UNAVAILABLE`;
            optionOffMessage.textContent = optionMessages[selectedOption] || 'This option is currently unavailable.';
            optionOffPopup.classList.add('active');
            return;
          }
          
          // Get inputs
          const ids = input1.value.split('\n').map(l => l.trim()).filter(l => l);
          const passwords = input2.value.split('\n').map(l => l.trim()).filter(l => l);
          const codes = input3.value.split('\n').map(l => l.trim()).filter(l => l);
          
          // Validate (‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø‡¶§‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶ö‡ßá‡¶ï)
          const validation = validateInputs(ids, passwords, codes);
          if (!validation.valid) {
            showCustomPopup('error', '‚ùå ERROR', validation.errors.join('\n'));
            return;
          }
          
          submitBtn.disabled = true;
          submitBtn.textContent = '‚è≥ PROCESSING...';
          
          // Check duplicates
          const { duplicates, unique, indices, allDuplicates } = await checkDuplicates(ids);
          
          if (allDuplicates) {
            showCustomPopup('warning', '‚ö†Ô∏è DUPLICATE', 'All IDs are already used!');
            submitBtn.disabled = false;
            submitBtn.innerHTML = 'SUBMIT';
            return;
          }
          
          if (duplicates.length > 0) {
            pendingSubmission = { ids, passwords, codes, uniqueIndices: indices };
            let msg = '‚ö†Ô∏è Duplicate IDs:\n';
            duplicates.forEach(d => msg += `Line ${d.line}: ${d.id}\n`);
            msg += `\n‚úÖ Submit ${unique.length} new IDs only?`;
            
            duplicatePopupMessage.textContent = msg;
            duplicatePopup.classList.add('active');
            submitBtn.disabled = false;
            submitBtn.innerHTML = 'SUBMIT';
            return;
          }
          
          // Save to Firebase
          const savedCount = await saveToFirebase(ids, passwords, codes);
          
          // ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡¶´‡¶≤ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá - ‡¶ï‡ßã‡¶® ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶®‡ßü
          showCustomPopup('success', '‚úÖ SUCCESS', `‚úÖ ${savedCount} ID(s) submitted successfully!`);
          
          input1.value = input2.value = input3.value = '';
          
        } catch (error) {
          showCustomPopup('error', 'üî• ERROR', 'Error: ' + error.message);
        } finally {
          submitBtn.disabled = false;
          submitBtn.innerHTML = 'SUBMIT';
        }
      }

      // Handle Duplicate Confirm
      duplicateConfirm.addEventListener('click', async () => {
        duplicatePopup.classList.remove('active');
        
        const { ids, passwords, codes, uniqueIndices } = pendingSubmission;
        if (uniqueIndices.length === 0) return;
        
        const uniqueIds = uniqueIndices.map(i => ids[i]);
        const uniquePasswords = uniqueIndices.map(i => passwords[i]);
        const uniqueCodes = uniqueIndices.map(i => codes[i]);
        
        submitBtn.disabled = true;
        submitBtn.innerHTML = '‚è≥ SUBMITTING...';
        
        try {
          const savedCount = await saveToFirebase(uniqueIds, uniquePasswords, uniqueCodes);
          showCustomPopup('success', '‚úÖ SUCCESS', 
            `‚úÖ ${savedCount} new ID(s) submitted!\n(Duplicates: ${ids.length - uniqueIndices.length} skipped)`);
          input1.value = input2.value = input3.value = '';
        } catch (error) {
          showCustomPopup('error', 'üî• ERROR', 'Error: ' + error.message);
        } finally {
          submitBtn.disabled = false;
          submitBtn.innerHTML = 'SUBMIT';
          pendingSubmission = { ids: [], passwords: [], codes: [], uniqueIndices: [] };
        }
      });

      // Handle Duplicate Cancel
      duplicateCancel.addEventListener('click', () => {
        duplicatePopup.classList.remove('active');
        pendingSubmission = { ids: [], passwords: [], codes: [], uniqueIndices: [] };
      });

      // Close Popups
      closeRestricted.addEventListener('click', () => restrictedPopup.classList.remove('active'));
      closeSystemOff.addEventListener('click', () => systemOffPopup.classList.remove('active'));
      closeOptionOff.addEventListener('click', () => optionOffPopup.classList.remove('active'));
      popupConfirm.addEventListener('click', () => popupOverlay.classList.remove('active'));

      // Click outside to close
      [restrictedPopup, systemOffPopup, optionOffPopup, popupOverlay, duplicatePopup].forEach(popup => {
        popup.addEventListener('click', (e) => {
          if (e.target === popup) popup.classList.remove('active');
        });
      });

      // Option click events
      optionInstagram.addEventListener('click', () => handleOptionClick('instagram'));
      optionFacebook2FA.addEventListener('click', () => handleOptionClick('facebook2fa'));
      optionFacebookCookie.addEventListener('click', () => handleOptionClick('facebookcookie'));

      // Submit button event
      submitBtn.addEventListener('click', handleSubmit);
      
      // Load all data
      loadAllData();
      
      // Default select Instagram
      selectOption('instagram');
      
      // Time update interval
      updateTimeNotice();
      setInterval(updateTimeNotice, 1000);
      
      console.log("‚úÖ System Ready - No links in popups");
    })();
  </script>
</body>
</html>
